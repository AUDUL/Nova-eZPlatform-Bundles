!function(t){var e={};function i(n){if(e[n])return e[n].exports;var s=e[n]={i:n,l:!1,exports:{}};return t[n].call(s.exports,s,s.exports,i),s.l=!0,s.exports}i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)i.d(n,s,function(e){return t[e]}.bind(null,s));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=0)}([function(t,e,i){"use strict";function n(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];return e.forEach(function(e){return Object.keys(e).forEach(function(i){return t[i]=e[i]})}),t}i.r(e);var s={position:"relative",overflow:"hidden"},o={position:"absolute",top:"0",right:"0",bottom:"0",left:"0"},r={display:"block",maxWidth:"100%",touchAction:"none"},a={position:"absolute",cursor:"move",transform:"translate(-50%, -50%)"},u={onChange:function(){},retina:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgdmlld0JveD0iMCAwIDIwIDIwIj4KICA8ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgPGNpcmNsZSBpZD0iYSIgY3g9IjEwIiBjeT0iMTAiIHI9IjEwIiBmaWxsPSIjMDAwIiBmaWxsLW9wYWNpdHk9Ii4zIiAvPgogICAgPGNpcmNsZSBjeD0iMTAiIGN5PSIxMCIgcj0iOSIgc3Ryb2tlPSIjRkZGIiBzdHJva2Utb3BhY2l0eT0iLjgiIHN0cm9rZS13aWR0aD0iMiIvPgogIDwvZz4KPC9zdmc+"},c=(function(){function t(t,e){void 0===e&&(e={});var i=this;this.startDragging=function(t){t.preventDefault(),i.isDragging=!0,t instanceof MouseEvent?i.updateCoordinates(t.clientX,t.clientY):i.updateCoordinates(t.touches[0].clientX,t.touches[0].clientY)},this.handleMove=function(t){if(t.preventDefault(),t instanceof MouseEvent)i.updateCoordinates(t.clientX,t.clientY);else{var e=t.touches[0],n=document.elementFromPoint(e.pageX,e.pageY);n!==i.retina&&n!==i.img?i.stopDragging():i.updateCoordinates(e.clientX,e.clientY)}},this.stopDragging=function(){i.isDragging=!1},this.updateRetinaPositionFromFocus=function(){i.updateRetinaPosition(i.calculateOffsetFromFocus())},this.updateRetinaPosition=function(t){i.retina.style.top=t.offsetY+"px",i.retina.style.left=t.offsetX+"px"},this.options=n(u,e),this.img=t,this.container=t.parentElement,this.retina=document.createElement("img"),this.retina.src=this.options.retina,this.retina.draggable=!1,this.container.appendChild(this.retina),this.container.addEventListener("mousedown",this.startDragging),this.container.addEventListener("mousemove",this.handleMove),this.container.addEventListener("mouseup",this.stopDragging),this.container.addEventListener("mouseleave",this.stopDragging),this.container.addEventListener("touchend",this.stopDragging),this.container.addEventListener("touchstart",this.startDragging,{passive:!0}),this.container.addEventListener("touchmove",this.handleMove,{passive:!0}),this.img.draggable=!1,this.img.addEventListener("load",this.updateRetinaPositionFromFocus),n(this.img.style,r),n(this.retina.style,a),n(this.container.style,s),this.focus=this.options.focus?this.options.focus:{x:parseFloat(this.img.getAttribute("data-focus-x"))||0,y:parseFloat(this.img.getAttribute("data-focus-y"))||0},this.setFocus(this.focus)}t.prototype.setFocus=function(t){this.focus=t,this.img.setAttribute("data-focus-x",t.x.toString()),this.img.setAttribute("data-focus-y",t.y.toString()),this.updateRetinaPositionFromFocus(),this.options.onChange(t)},t.prototype.calculateOffsetFromFocus=function(){var t=this.img.getBoundingClientRect(),e=t.width,i=t.height;return{offsetX:e*(this.focus.x/2+.5),offsetY:i*(this.focus.y/-2+.5)}},t.prototype.updateCoordinates=function(t,e){if(this.isDragging){var i=this.img.getBoundingClientRect(),n=i.width,s=i.height,o=2*((t-i.left)/n-.5),r=-2*((e-i.top)/s-.5);this.setFocus({x:o,y:r})}}}(),{minHeight:"100%",minWidth:"100%"}),h={height:"100%",width:"100%",border:"none",opacity:0,zIndex:-1,pointerEvents:"none"},d={debounceTime:17,updateOnWindowResize:!0,updateOnContainerResize:!1,containerPosition:"relative"},l=function(){function t(t,e){void 0===e&&(e={});var i,r,a,u=this;this.imageNode=t,this.listening=!1,this.setFocus=function(t){u.focus=t,u.img.setAttribute("data-focus-x",t.x.toString()),u.img.setAttribute("data-focus-y",t.y.toString()),u.applyShift()},this.applyShift=function(){var t=u.img,e=t.naturalWidth,i=t.naturalHeight,n=u.container.getBoundingClientRect(),s=n.width,o=n.height,r="0",a="0";if(!(0<s&&0<o&&0<e&&0<i))return!1;var c=e/s,h=i/o;u.img.style.maxHeight=null,u.img.style.maxWidth=null,s<e&&o<i&&(u.img.style[h<c?"maxHeight":"maxWidth"]="100%"),h<c?r=u.calcShift(h,s,e,u.focus.x)+"%":c<h&&(a=u.calcShift(c,o,i,u.focus.y,!0)+"%"),u.img.style.top=a,u.img.style.left=r},this.options=n(d,e),this.img=t,this.container=t.parentElement,this.img.__focused_image_instance__&&(this.img.__focused_image_instance__.stopListening(),this.img.removeEventListener("load",this.applyShift)),(this.img.__focused_image_instance__=this).img.addEventListener("load",this.applyShift),n(this.container.style,s),this.container.style.position=this.options.containerPosition,n(this.img.style,c,o),this.debounceApplyShift=(i=this.applyShift,r=this.options.debounceTime,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];clearTimeout(a),a=setTimeout(function(){return i.apply(void 0,t)},r)}),this.focus=this.options.focus?this.options.focus:{x:parseFloat(this.img.getAttribute("data-focus-x"))||0,y:parseFloat(this.img.getAttribute("data-focus-y"))||0},this.startListening(),this.setFocus(this.focus)}return t.prototype.startListening=function(){var t=this;if(!this.listening&&(this.listening=!0,this.options.updateOnWindowResize&&window.addEventListener("resize",this.debounceApplyShift),this.options.updateOnContainerResize)){var e=document.createElement("object");n(e.style,h,o),e.addEventListener("load",function(i){return e.contentDocument.defaultView.addEventListener("resize",function(){return t.debounceApplyShift()})}),e.type="text/html",e.setAttribute("aria-hidden","true"),e.tabIndex=-1,this.container.appendChild(e),e.data="about:blank",this.resizeListenerObject=e}},t.prototype.stopListening=function(){this.listening&&(this.listening=!1,window.removeEventListener("resize",this.debounceApplyShift),this.resizeListenerObject&&(this.resizeListenerObject.contentDocument.defaultView.removeEventListener("resize",this.debounceApplyShift),this.container.removeChild(this.resizeListenerObject),this.resizeListenerObject=null))},t.prototype.calcShift=function(t,e,i,n,s){var o=Math.floor(e/2),r=(n+1)/2,a=Math.floor(i/t),u=Math.floor(r*a);s&&(u=a-u);var c=u-o,h=a-u,d=e-o;return h<d&&(c-=d-h),c<0&&(c=0),-100*c/e},t}();function f(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function g(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}
/*
 * NovaeZEnhancedImageAssetBundle.
 *
 * @package   NovaeZEnhancedImageAssetBundle
 *
 * @author    Novactive <f.alexandre@novactive.com>
 * @copyright 2018 Novactive
 * @license   https://github.com/Novactive/NovaeZEnhancedImageAssetBundle/blob/master/LICENSE
 *
 */var p,m,v,y,b,S,I=function t(e,i){g(this,t),this.url=e,this.focusPoint=i},x=function(){function t(e){g(this,t),this.sources=new Map,this.element=e,this.currentSrc=null}var e,i;return e=t,(i=[{key:"addSource",value:function(t){this.sources.set(t.url,t)}},{key:"updateFocusPoint",value:function(){if(this.currentSrc===this.element.currentSrc)return!1;var t=this.sources.get(this.element.currentSrc);if(!t)return!1;new l(this.element,t.focusPoint),this.currentSrc=this.element.currentSrc}}])&&f(e.prototype,i),t}(),w=(m=function(){for(var t,e=p,i=e.length,n=0;n<i;n++)if(e[n]){var s=e[n].getElementsByClassName("enhancedimage--img")[0],o=s._image;if(!o){(o=new x(s)).addSource(new I(s.getAttribute("srcset"),{x:s.getAttribute("data-focus-x"),y:s.getAttribute("data-focus-y")}));var r=e[n].getElementsByTagName("source"),a=r.length;for(t=0;t<a;t++)if(r[t]){var u=r[t];o.addSource(new I(u.getAttribute("srcset"),{x:u.getAttribute("data-focus-x"),y:u.getAttribute("data-focus-y")}))}s._image=o}o.updateFocusPoint()}},function(){v||(m.apply(this,arguments),v=!0,setTimeout(function(){return v=!1},125))});y=window,S=(b=document).documentElement,p=b.getElementsByClassName("enhancedimage--wrapper"),addEventListener("resize",w,!0),y.MutationObserver?new MutationObserver(w).observe(S,{childList:!0,subtree:!0,attributes:!0}):(S.addEventListener("DOMNodeInserted",w,!0),S.addEventListener("DOMAttrModified",w,!0),setInterval(w,999)),/d$|^c/.test(b.readyState)?w():(addEventListener("load",w),b.addEventListener("DOMContentLoaded",w),setTimeout(w,2e4))}]);