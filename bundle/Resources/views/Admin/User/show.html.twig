{% extends '@NovaeZMailing/Admin/Layout/pagelayout.html.twig' %}
{% set statusKeys = constant('Novactive\\Bundle\\eZMailingBundle\\Entity\\User::STATUSES') %}
{% set styles = constant('Novactive\\Bundle\\eZMailingBundle\\Entity\\User::STATUSES_STYLE') %}

{% block novezmailing_breadcrumb %}
    <ol class="breadcrumb px-4">
        <li class="breadcrumb-item"><a href="{{ path("novaezmailing_dashboard_index") }}">Nova eZ Mailing</a></li>
        <li class="breadcrumb-item"><a href="{{ path("novaezmailing_user_index") }}">Users</a></li>
        <li class="breadcrumb-item active">{{ item.gender }} {{ item.firstName }} {{ item.lastname }}</li>
    </ol>
{% endblock %}
{% block novezmailing_title %}{{ item.gender }} {{ item.firstName }} {{ item.lastname }}{% endblock %}
{% block novezmailing_subtitle %}{{ item.email }}{% endblock %}

{% block content %}
    <div class="row">
        <div class="col-md-6">
            <h3>Information</h3>
            <table class="table table-hover table-sm">
                <tr>
                    <th>ID</th>
                    <td>{{ item.id }}</td>
                </tr>
                <tr>
                    <th>Email</th>
                    <td>{{ item.email }} -
                        <span class="badge badge-{{ styles[item.status] }}">{{ statusKeys[item.status] }}</span></td>
                </tr>
                <tr>
                    <th>First Name</th>
                    <td>{{ item.firstName }}</td>
                </tr>
                <tr>
                    <th>Last Name</th>
                    <td>{{ item.lastName }}</td>
                </tr>
                <tr>
                    <th>Gender</th>
                    <td>{{ item.gender }}</td>
                </tr>
                <tr>
                    <th>Birth date</th>
                    <td>{{ item.birthDate|localizeddate }}</td>
                </tr>
                <tr>
                    <th>Phone</th>
                    <td>{{ item.phone }}</td>
                </tr>
                <tr>
                    <th>Zipcode</th>
                    <td>{{ item.zipcode }}</td>
                </tr>
                <tr>
                    <th>City</th>
                    <td>{{ item.city }}</td>
                </tr>
                <tr>
                    <th>State</th>
                    <td>{{ item.state }}</td>
                </tr>
                <tr>
                    <th>Country</th>
                    <td>{{ item.country|country_name }}</td>
                </tr>
                <tr>
                    <th>Job Title</th>
                    <td>{{ item.jobTitle }}</td>
                </tr>
                <tr>
                    <th>Company</th>
                    <td>{{ item.company }}</td>
                </tr>
                <tr>
                    <th>Origin</th>
                    <td>{{ item.origin }}</td>
                </tr>
            </table>
        </div>
        <div class="col-md-6">
            <h3>Registrations</h3>
            <table class="table table-hover table-sm">
                <tr>
                    <th>Mailing List</th>
                    <th>Updated</th>
                    <th>Created</th>
                </tr>
                {% for registration in item.registrations %}
                    <tr>
                        <td>
                            <a href="{{ path('novaezmailing_mailinglist_show', {mailingList: registration.mailingList.id }) }}">{{ registration.mailingList.name }}</a>
                        </td>
                        <td>{{ registration.updated|localizeddate }}</td>
                        <td>{{ registration.created|localizeddate }}</td>
                    </tr>
                {% endfor %}
            </table>
        </div>
    </div>
{% endblock %}
